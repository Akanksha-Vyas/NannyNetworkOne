<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Nanny Network: Create a job post</title>
    <!-- Icon image -->
    <link rel="shortcut icon" type="img/jpeg" href="assets/image/gaunlet.jpg">
    <!-- Google fonts -->
    <link href="https://fonts.googleapis.com/css?family=Fjalla+One|Hind" rel="stylesheet">
    <!-- bootstrap -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <!-- Style Sheet -->
    <link rel="stylesheet" href="assets/css/job.css" type="text/css">
</head>
<body>
<div class="job-background">
    <nav class="navbar navbar-expand-lg navbar-light bg-light col-md-12 header">
        <img src="assets/images/baby.png" alt="Baby" height="60px" width="100px">
        <!-- nav left -->
        <div class="header-title text-center">
          <p>Nanny Network</p>
        </div>
        <!-- nav right -->
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav ml-auto">
            <li class="nav-item nav-buttons">
              <a class="nav-link" href="/dashboard">Dashboard</a>
            </li>
             <li class="nav-item nav-buttons">
              <a class="nav-link" href="/logout">Log Out</a>
            </li>
          </ul>
        </div>
      </nav>

      <!-- =============================================== -->
    <div class="container">
        <div class="row">
            <div class="col-md-2"></div>
                <div class="box col-md-8">
                    <h1>Create a job posting</h1>
                    <hr>
                    <form class="col-md-12">
                        <div class="form-row">
                            <div class="col-md-12">
                                <label>Where do you need care?</label>
                                <input type="text" class="form-control" id="location" placeholder="Dewas, MP" required>
                            </div>
                        </div>
                        <!-- ================================== -->
                        <div class="form-row">
                            <div class="col-md-12">
                                <label>How long do you need care for?</label><br>
                                <select id="duration">
                                    <option value="">Select One</option>
                                    <option value="full-time">Full Time</option>
                                    <option id="head-color" value="part-time">Part Time</option>
                                    <option value="one-time">One Time</option>
                                </select>
                                <br>
                        <!-- ================================== -->
                        <!-- Time of service -->
                                <label>When do you need care?</label><br>
                                <input type="text" class="form-control" id="date-time" placeholder="Friday" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="col-md-12">
                                <label>What would you like to pay per hour?</label>
                                <input type="text" class="form-control" id="pay-rate" placeholder="Rs.20 an hour" required>
                            </div>
                        </div>
                        <!-- ================================== -->
                        <!-- Number of kids that needs care -->
                        <div class="form-row">
                            <div class="col-md-12">
                                <label>Who needs care?</label><br>
                                <input type="text" class="form-control" id="total-kids" placeholder="Two Toddlers" required>
                            </div>
                        </div>

                        <!-- Contact Number -->
                        <div class="form-row">
                            <div class="col-md-12">
                                <label>Contact Number</label><br>
                                <input type="tel" class="form-control" id="phone-number" maxlength="10" placeholder="xxxxxxxxxx" required>
                            </div>
                        </div>

                        <!-- ================================== -->
                       <!-- List of extra serves -->
                       <div class="form-row">
                        <div class="col-md-12">
                            <div id="needs">
                                <label>For additional needs: <br>See our list of examples and choose one or create your own:</label><br>
                                <ul>
                                    <li>
                                    <input type="hidden" class="needs" value="house_keeping"> Light Housekeeping<br>
                                </li>
                                <li>
        
                                    <input type="hidden" class="needs" value="meal_prep"> Meal Preparation<br>
                                </li>
                                <li>
        
                                    <input type="hidden" class="needs" value="laundry"> Laundry<br>
                                </li>
                                <li>
        
                                    <input type="hidden" class="needs" value="Homework"> Homework help<br>
                                </li>
                                <li>
                                
                                    <input type="hidden" class="needs" value="yard_work"> Yard Work<br>
                                </li>
                                <li>
                                    <input type="hidden" class="needs" value="pick_up_off"> Pick Up/Drop Offs<br>
                                </li>
                                </ul>    
                                </div>
                                </div>
                                <!-- They will add a description of extra serves -->
                                <textarea name="description" id="description" cols="100" rows="5" placeholder="Taking the dog out twice a day">
                            
                                </textarea>
                    </div>
                    <!-- ================================== -->
                    <br>
                    <button class="btn btn-primary" id="submit" type="submit">Submit posting</button>
                </form>

            </div>
        <div class="col-md-2"></div>
    </div>
</div>
</div>
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery.js"></script>
<script type="text/javascript">
    $("#submit").on("click", function(event) {
      event.preventDefault();
      if ($.trim($("#location").val()) === "" || $.trim($("#duration").val()) === "" || $.trim($("#date-time").val()) === "" || $.trim($("#pay-rate").val()) === "" ||
        $.trim($("#total-kids").val()) === "" || $.trim($("#phone-number").val()) === ""
        ) {
        alert('you did not fill out one of the fields');
        return false;
    }

      var newJob = {
        location: $("#location").val().trim(),
        duration: $("#duration").val().trim(),
        dateTime: $("#date-time").val().trim(),
        payRate: $("#pay-rate").val().trim(),
        totalKids: $("#total-kids").val().trim(),
        description: $("#description").val().trim(),
        phoneNumber:$("#phone-number").val().trim()
      };

      $.post("/api/listings", newJob, function() {
        alert("Adding new listing...");
      })
      .done(function() {
        alert("Listing Added Successfully");
        window.location.href = "/dashboard";
      })
      .error(function() {
        alert("Ooops, something went wrong!!");
      });
  });
  </script>
</body>
</html>